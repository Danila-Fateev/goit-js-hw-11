{"mappings":"AAAA,MACMA,EAAO,CACTC,UAAWC,SAASC,cAAc,eAClCC,QAASF,SAASC,cAAc,cAChCE,WAAYH,SAASC,cAAc,gBACrCG,UAAWJ,SAASC,cAAc,eAClCI,UAAWL,SAASC,cAAc,aAGpC,IAAIK,EAAO,EACPC,EAAa,KAEjBT,EAAKK,WAAWK,iBAAiB,UAAWC,GAAMA,EAAEC,mBACpDZ,EAAKC,UAAUS,iBAAiB,SAGhC,WACEV,EAAKO,UAAUM,UAAY,GAEzBL,EAAO,EACPC,EAAaT,EAAKM,UAAUQ,MAC5Bd,EAAKC,UAAUc,YAAc,eAC7Bf,EAAKC,UAAUe,aAAa,WAAY,YACxCC,MAAM,qEAA6CR,kEAA2ED,iBAC3HU,MAAMC,IACL,GAAiB,MAAbA,EAAEC,OACJ,MAAM,IAAIC,MAEZ,OAAOF,EAAEG,UAEVJ,MAAMC,IACL,GAAsB,IAAlBA,EAAEI,KAAKC,OACT,MAAM,IAAIH,MAET,OAAOF,EAAEI,KAAKE,KAAKC,GACV,gFAENA,EAAGC,sBAAsBD,EAAGE,gIAIlBF,EAAGG,qEAGHH,EAAGI,wEAGAJ,EAAGK,4EAGFL,EAAGM,0CAIjBC,KAAK,OAEZf,MAAMC,IACLnB,EAAKO,UAAU2B,mBAAmB,YAAaf,GAC/CnB,EAAKI,QAAQ+B,MAAMC,QAAU,WAE9BC,MAAMC,QAAQC,KACdC,SAASrB,IACEnB,EAAKC,UAAUc,YAAc,SACrCf,EAAKC,UAAUwC,gBAAgB,kBAjDzCzC,EAAKI,QAAQM,iBAAiB,SAsD9BgC,iBACE1C,EAAKC,UAAUc,YAAc,aAC7Bf,EAAKC,UAAUe,aAAa,WAAY,YACxCR,GAAQ,EACR,MAAMmC,QAAoB1B,MAAM,qEAA6CR,kEAA2ED,iBAClJoC,QAAgBD,EAAYrB,OAC5BuB,QAAmBD,EAAQrB,KAAKE,KAAKC,GAClC,gFAEGA,EAAGC,sBAAsBD,EAAGE,gIAIlBF,EAAGG,qEAGHH,EAAGI,wEAGAJ,EAAGK,4EAGFL,EAAGM,0CAI1BC,KAAK,UAEFjC,EAAKO,UAAU2B,mBAAmB,YAAaW,GAEnD7C,EAAKC,UAAUc,YAAc,YAC/Bf,EAAKC,UAAUwC,gBAAgB","sources":["src/index.js"],"sourcesContent":["const API_KEY = '27675022-eae91b965f306fbe1611b8e88';\nconst refs = {\n    searchBtn: document.querySelector('#search-btn'),\n    loadBtn: document.querySelector('.load-more'),\n    searchForm: document.querySelector('#search-form'),\n  inputForm: document.querySelector('.input-form'),\n  galleryEl: document.querySelector('.gallery'),\n}\n\nlet page = 0;\nlet inputValue = null;\n\nrefs.searchForm.addEventListener('submit', (e) => e.preventDefault());\nrefs.searchBtn.addEventListener('click', onSearchBtnClick )\nrefs.loadBtn.addEventListener('click', onLoadMoreBtnClick)\n\nfunction onSearchBtnClick() {\n  refs.galleryEl.innerHTML = \"\";\n\n    page = 1;\n    inputValue = refs.inputForm.value;\n    refs.searchBtn.textContent = 'Searching...';\n    refs.searchBtn.setAttribute('disabled', 'disabled')\n    fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`)\n      .then((r) => {\n        if (r.status !== 200) {\n          throw new Error\n        }\n        return r.json()\n      })\n      .then((r) => {\n        if (r.hits.length === 0) {\n          throw new Error\n          }\n           return r.hits.map((el) => {\n             return `<div class=\"photo-card\">\n              <div class=\"image-box\">\n  <img src=\"${el.webformatURL}\" alt=\"${el.tags}\" class=\"card-image\" loading=\"lazy\" />\n  </div>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b><br>${el.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b><br>${el.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b><br>${el.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b><br>${el.downloads}\n    </p>\n  </div>\n</div>`\n           }).join(\"\")\n      })\n      .then((r) => {\n        refs.galleryEl.insertAdjacentHTML('beforeend', r)\n        refs.loadBtn.style.display = 'block';\n      })\n      .catch(console.log)\n      .finally((r) => {\n                  refs.searchBtn.textContent = 'Search',\n          refs.searchBtn.removeAttribute('disabled')\n      }\n    )\n}\n\nasync function onLoadMoreBtnClick() {\n  refs.searchBtn.textContent = 'Loading...';\n  refs.searchBtn.setAttribute('disabled', 'disabled')\n  page += 1\n  const fetchResult = await fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${inputValue}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`);\n  const results = await fetchResult.json();\n  const htmlParsed = await results.hits.map((el) => {\n    return `<div class=\"photo-card\">\n              <div class=\"image-box\">\n  <img src=\"${el.webformatURL}\" alt=\"${el.tags}\" class=\"card-image\" loading=\"lazy\" />\n  </div>\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes</b><br>${el.likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views</b><br>${el.views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments</b><br>${el.comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads</b><br>${el.downloads}\n    </p>\n  </div>\n</div>`\n  }).join('');\n\n  await refs.galleryEl.insertAdjacentHTML('beforeend', htmlParsed);\n\n    refs.searchBtn.textContent = 'Load more';\n  refs.searchBtn.removeAttribute('disabled');\n}"],"names":["$1f0dc3b9307be026$var$refs","searchBtn","document","querySelector","loadBtn","searchForm","inputForm","galleryEl","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$inputValue","addEventListener","e","preventDefault","innerHTML","value","textContent","setAttribute","fetch","then","r","status","Error","json","hits","length","map","el","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","style","display","catch","console","log","finally","removeAttribute","async","fetchResult","results","htmlParsed"],"version":3,"file":"index.2140c5b5.js.map"}